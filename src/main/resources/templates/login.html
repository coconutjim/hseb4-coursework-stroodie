<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <script th:src="@{/js/util/jquery.min.js}"></script>
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" th:href="@{/css/util/bootstrap.min.css}"/>
    <!-- Latest compiled and minified JavaScript -->
    <script th:src="@{/js/util/bootstrap.min.js}"></script>

    <link rel="stylesheet" th:href="@{/css/general.css}"/>
    <script th:src="@{/js/general.js}" ></script>

    <title>Stroodie</title>
</head>
<body>
<h3 class="text-center">Вход в систему</h3>
<div class="col-sm-4 col-sm-offset-4">
    <form class="form-signin" th:action="@{/login}" method="post">
        <div th:if="${param.registered}">
            <div class="well success-div">Вы успешно зарегистрировались в системе. Для подтверждения регистрации пройдите по ссылке
            из письма, которое было выслано на указанный Вами email</div>
        </div>
        <div th:if="${param.recovered}">
            <div class="well success-div">Пароль успешно изменен</div>
        </div>
        <div th:if="${accountActivated != null}">
            <div class="well success-div">Аккаунт успешно активирован. Пожалуйста, войдите в систему</div>
        </div>
        <label for="inputEmail" class="sr-only">Email</label>
        <input type="text" id="inputEmail" class="form-control" placeholder="Email" name="username" />
        <div class="gap-top"></div>
        <label for="inputPassword" class="sr-only">Пароль</label>
        <input type="password" id="inputPassword" class="form-control" placeholder="Пароль" name="password" />
        <!--<div class="checkbox">
            <label>
                <input type="checkbox" value="remember-me"/> Запомнить меня
            </label>
        </div>-->
        <div th:if="${param.error}">
            <div class="well errors-div">Неверный email или пароль!</div>
        </div>
        <div class="text-right gap-top">
            <a th:href="@{/passwordRecovery}">Забыли пароль?</a>
        </div>
        <div class="text-right gap-top">
            <button class="btn btn-lg btn-primary" type="submit" value="Sign In">Вход</button>
            <span class="gap-left"></span>
            <a class="btn btn-lg btn-primary" th:href="@{/registration}">Регистрация</a>
        </div>
    </form>
</div>
<span th:include="fragments/go_top_element::go_top"></span>
</body>
</html>

<script>
    $( document ).ready(function() {
        history.replaceState({}, null, window.location.href.split('?')[0]);
    });
</script>